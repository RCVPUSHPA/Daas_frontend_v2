"use strict";(self.webpackChunkdass=self.webpackChunkdass||[]).push([[156],{3779:()=>{},4156:(e,s,i)=>{i.r(s),i.d(s,{default:()=>m});var a=i(2483),t=i(2189),r=(i(3779),i(4721)),l=i(4100),n=i(3376),d=i(792),c=i(6723);function o(){for(var e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];return s.filter(Boolean).join(" ")}const m=()=>{const e=(0,n.Zp)(),[s,i]=(0,a.useState)(!1),[m,g]=(0,a.useState)(null),h=(0,a.useRef)(null),x=(0,a.useContext)(t._),u=x.token;let[b,p]=(0,a.useState)(!1);const[f,v]=(0,a.useState)({type:"",name:"",ip:"",port:"",username:"",password:"",tls:!1});let j=e=>{"type"==e.target.name&&"KVM"==e.target.value?p(!0):p(!1),v({...f,[e.target.name]:e.target.value})};return(0,c.jsxs)("div",{className:"min-h-[90vh] w-[95%] mx-auto bg-white",children:[(0,c.jsx)("div",{className:"flex justify-start ml=0 mt-5",children:(0,c.jsx)("div",{onClick:()=>{e(-1)},className:"ml-12 bg-indigo-500 text-white px-4 py-2 rounded-md hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-10",children:(0,c.jsx)("i",{className:"fas fa-arrow-left"})})}),(0,c.jsxs)("div",{className:"cluster-creation-form w-full ",children:[(0,c.jsx)("div",{className:"space-y-5 m-2",children:(0,c.jsxs)("div",{className:"bg-white mx-10 p-3  w-3/4",children:[(0,c.jsx)("h2",{className:"font-bold leading-7 text-indigo-700",children:"Create Cluster"}),(0,c.jsxs)("div",{className:"text-left table-auto ",children:[(0,c.jsxs)("div",{className:"tr",children:[(0,c.jsx)("div",{className:"th",children:(0,c.jsx)("label",{className:"block text-sm font-medium leading-6 text-gray-900  border-0",children:"Cluster Type"})}),(0,c.jsx)("div",{className:"td",children:(0,c.jsx)("div",{className:"mt-2 border-0 ",children:(0,c.jsxs)("select",{onChange:j,value:f.type,name:"type",className:"block  cursor-pointer rounded-md border-2 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 ",children:[(0,c.jsx)("option",{selected:!0,value:"",disabled:!0,children:"Cluster Type"}),["VMware","KVM"].map((e=>(0,c.jsx)("option",{value:e,className:"capitalize px-1",children:e},e)))]})})})]}),"KVM"==f.type&&(0,c.jsx)("div",{className:"text-red-500",children:"KVM clusters will be available in the upcoming version."}),(0,c.jsxs)("div",{className:"tr",children:[(0,c.jsx)("div",{className:"th",children:(0,c.jsx)("label",{className:"block text-sm font-medium leading-6 text-gray-900 border-0",children:"Cluster Name"})}),(0,c.jsx)("div",{className:"td",children:(0,c.jsx)("div",{className:"mt-2  border-0",children:(0,c.jsx)("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600",children:(0,c.jsx)("input",{type:"text",name:"name",disabled:!!b,onChange:j,value:f.name,className:o(b?"bg-gray-200 border-slate-300":"bg-white bg-transparent","block flex-1 rounded-md py-2 px-3 text-base text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6 border-2")})})})})]}),"VMware"==f.type&&(0,c.jsxs)("div",{className:"tr",children:[(0,c.jsx)("div",{className:"th",children:(0,c.jsx)("label",{className:"block text-sm font-medium leading-6 text-gray-900 border-0",children:"Vcenter IP / FQDN"})}),(0,c.jsx)("div",{className:"td",children:(0,c.jsx)("div",{className:"mt-2  border-0",children:(0,c.jsx)("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600",children:(0,c.jsx)("input",{type:"text",name:"ip",disabled:!!b,onChange:j,value:f.ip,className:o(b?"bg-gray-200 border-slate-300 w-300":" bg-white bg-transparent","block flex-1 rounded-md py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6 border-2 ")})})})})]}),"KVM"===f.type&&(0,c.jsxs)("div",{className:"tr",children:[(0,c.jsx)("div",{className:"th",children:(0,c.jsx)("label",{className:"block text-sm font-medium leading-6 text-gray-900 border-0",children:"KVM IP / FQDN"})}),(0,c.jsx)("div",{className:"td",children:(0,c.jsx)("div",{className:"mt-2  border-0",children:(0,c.jsx)("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600",children:(0,c.jsx)("input",{type:"text",name:"ip",disabled:!!b,onChange:j,value:f.ip,className:o(b?"bg-gray-200 border-slate-300":"  bg-white bg-transparent","block flex-1 rounded-md py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6 border-2")})})})})]}),(0,c.jsxs)("div",{className:"tr",children:[(0,c.jsx)("div",{className:"th",children:(0,c.jsx)("label",{className:"block text-sm font-medium leading-6 text-gray-900 border-0 ",children:"Port"})}),(0,c.jsx)("div",{className:"td",children:(0,c.jsx)("div",{className:"mt-2  border-0",children:(0,c.jsx)("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600",children:(0,c.jsx)("input",{onChange:j,value:f.port,disabled:!!b,type:"number",name:"port",className:o(b?"bg-gray-200 border-slate-300":"  bg-white bg-transparent","block flex-1 rounded-md py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6 border-2")})})})})]}),(0,c.jsxs)("div",{className:"tr",children:[(0,c.jsx)("div",{className:"th",children:(0,c.jsx)("label",{className:"block text-sm font-medium leading-6 text-gray-900 border-0",children:"Username"})}),(0,c.jsx)("div",{className:"td",children:(0,c.jsx)("div",{className:"mt-2  border-0",children:(0,c.jsx)("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600",children:(0,c.jsx)("input",{type:"text",name:"username",disabled:!!b,onChange:j,value:f.username,className:o(b?"bg-gray-200 border-slate-300":"  bg-white bg-transparent","block flex-1 rounded-md py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6 border-2")})})})})]}),(0,c.jsxs)("div",{className:"tr",children:[(0,c.jsx)("div",{className:"th",children:(0,c.jsx)("label",{className:"block text-sm font-medium leading-6 text-gray-900 border-0",children:"Password"})}),(0,c.jsx)("div",{className:"td",children:(0,c.jsx)("div",{className:"mt-2  border-0",children:(0,c.jsx)("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600",children:(0,c.jsx)("input",{type:"password",name:"password",disabled:!!b,onChange:j,value:f.password,className:o(b?"bg-gray-200 border-slate-300":"  bg-white bg-transparent","block flex-1 rounded-md py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6 border-2")})})})})]}),(0,c.jsxs)("div",{className:"tr",children:[(0,c.jsx)("div",{className:"th",children:(0,c.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium leading-6 text-gray-900 border-0",children:"Insecure Skip Verify"})}),(0,c.jsx)("div",{className:"td",children:(0,c.jsx)("div",{className:"mt-2 border-0",children:(0,c.jsxs)("label",{className:"switch",children:[(0,c.jsx)("input",{type:"checkbox",name:"tls",disabled:!!b,onChange:e=>{v({...f,tls:e.target.checked})},ref:h}),(0,c.jsx)("span",{className:"slider round"})]})})})]})]})]})}),(0,c.jsx)("div",{className:"buttons ml-10 mt-5 pl-5 flex items-start justify-start",children:(0,c.jsx)("button",{onClick:()=>{i(!0),g(null),console.log(f),r.A.post("".concat("http://172.16.0.108:8000","/v1/create_cluster"),f,{headers:{Authorization:"Bearer ".concat(u)}}).then((s=>{let i=s.data.msg,a=s.data.cluster;l.oR.success(i,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",transition:l.q7}),x.setAvailableClusters([...x.availableClusters,a]),x.setIsClusterAvailable(!0),e("/clusters"),v({type:"",name:"",ip:"",port:"",username:"",password:"",tls:!1})})).catch((e=>{console.log(e),l.oR.error("Pool creation failed",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",transition:l.q7})})).finally((()=>{i(!1)}))},disabled:b||s,type:"submit",className:"rounded-md bg-indigo-600 px-4 py-3 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 flex items-center justify-center",children:s?(0,c.jsx)(d.A,{size:20,color:"inherit",className:"mr-2"}):"Submit"})})]})]})}}}]);
//# sourceMappingURL=156.60d08c59.chunk.js.map