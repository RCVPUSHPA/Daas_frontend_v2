{"version":3,"file":"static/js/259.5145d59a.chunk.js","mappings":"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","sources":["Components/Clusters/ShowClusters.js","../node_modules/@heroicons/react/24/solid/esm/TrashIcon.js"],"sourcesContent":["import React, { useContext } from \"react\";\nimport { PoolContext } from \"../../Context/PoolContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport { TrashIcon } from \"@heroicons/react/24/solid\";\nimport axiosInstance from \"Services/AxiosInstane\";\nimport { Slide, toast } from \"react-toastify\";\n\nfunction classNames(...classes) {\n  return classes.filter(Boolean).join(\" \");\n}\n\nconst ShowClusters = () => {\n  const navigate = useNavigate();\n  const pc = useContext(PoolContext);\n  const token = pc.token;\n\n  let handleClusterSelection = (cluster) => {\n    navigate(`/cluster/edit-cluster/${cluster.id}`);\n  };\n\n  let deleteCluster = (cluster_id) => {\n    axiosInstance\n      .delete(\n        `${process.env.REACT_APP_BACKEND_URL}/v1/delete_cluster/${cluster_id}`,{\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        }\n      )\n      .then((res) => {\n        console.log(res.data)\n        pc.setAvailableClusters([...res.data.clusters] || []);\n        toast.success(res.data.msg, {\n          position: \"top-right\",\n          autoClose: 3000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n          theme: \"light\",\n          transition: Slide,\n        });\n      })\n      .catch((err) => {\n        console.error(\"Error deleting cluster:\", err);\n        toast.error(\"Failed to delete cluster\", {\n          position: \"top-right\",\n          autoClose: 3000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n          theme: \"light\",\n          transition: Slide,\n        });\n      });\n  };\n\n  // Define columns with their alignment preferences\n  const columns = [\n    { header: \"Name\", key: \"name\", align: \"left\" },\n    { header: \"Type\", key: \"type\", align: \"left\" },\n    { header: \"IP\", key: \"ip\", align: \"left\" },\n    { header: \"Port\", key: \"port\", align: \"right\" }\n  ];\n\n  return (\n    <div className=\"show-pools flex justify-start items-start gap-2 h-auto w-[90%] min-h-[80vh] m-auto border-2 rounded-md shadow-inner\">\n\n      <div className=\"m-2 p-3 pb-0  w-full h-full overflow-y-auto overflow-x-hidden bg-white\">\n        <div className=\"flex justify-between mb-3 items-center\">\n          <h2 className=\"font-semibold leading-7 text-gray-700 text-lg \">\n            Available Clusters\n          </h2>\n          <button\n            onClick={() => navigate(\"/cluster/cluster-create-form\")}\n            className=\"bg-indigo-500 hover:bg-indigo-600 hover:text-gray-300 text-white rounded-md px-3 py-2 text-sm font-medium flex flex-col gap-2\"\n          >\n            + New Cluster\n          </button>\n        </div>\n        {pc.isClusterAvailable && (\n          <div className=\"overflow-x-auto mt-10\">\n            <table className=\"w-full bg-white table-auto\">\n              <thead className=\"w-full\">\n                <tr className=\"rounded-md\">\n                  {columns.map((col) => (\n                    <th\n                      key={col.key}\n                      className={`p-3 border-b-2 border-gray-400 text-sm uppercase font-bold text-${col.align}`}\n                    >\n                      {col.header}\n                    </th>\n                  ))}\n                  <th className=\"p-3 border-b-2 border-gray-400 text-center text-sm uppercase font-bold\">\n                    Actions\n                  </th>\n                </tr>\n              </thead>\n              <tbody>\n                {pc.availableClusters.map((item) => (\n                  <tr\n                    key={item.id}\n                    className=\"border-b-2 hover:bg-gray-200 cursor-pointer\"\n                    onClick={() => handleClusterSelection(item)}\n                  >\n                    {columns.map((col) => (\n                      <td\n                        key={`${item.id}-${col.key}`}\n                        className={`p-3 text-${col.align}`}\n                      >\n                        {item[col.key]}\n                      </td>\n                    ))}\n                    <td className=\"p-3 text-center\">\n                      <TrashIcon\n                        className=\"h-6 w-6 text-red-600 cursor-pointer inline-block\"\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          deleteCluster(item.id);\n                        }}\n                      />\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ShowClusters;\n","import * as React from \"react\";\nfunction TrashIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z\",\n    clipRule: \"evenodd\"\n  }));\n}\nconst ForwardRef = React.forwardRef(TrashIcon);\nexport default ForwardRef;"],"names":["ShowClusters","navigate","useNavigate","pc","useContext","PoolContext","token","columns","header","key","align","_jsx","className","children","_jsxs","onClick","isClusterAvailable","map","col","concat","availableClusters","item","id","TrashIcon","e","cluster_id","stopPropagation","axiosInstance","delete","process","headers","Authorization","then","res","console","log","data","setAvailableClusters","clusters","toast","success","msg","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","transition","Slide","catch","err","error","React","_ref","svgRef","title","titleId","props","Object","assign","xmlns","viewBox","fill","ref","fillRule","d","clipRule"],"sourceRoot":""}