"use strict";(self.webpackChunkdass=self.webpackChunkdass||[]).push([[346],{5346:(e,t,s)=>{s.r(t),s.d(t,{default:()=>p});var a=s(2483),o=s(2189),r=s(1413),i=s(5289),n=s(4100);const l=a.forwardRef((function(e,t){let{title:s,titleId:o,...r}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},r),s?a.createElement("title",{id:o},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"}))}));var d=s(4721),c=s(3376),m=s(6723);const h=e=>{const t=(0,c.Zp)(),s=(0,a.useContext)(o._),h=s.token;let[g,u]=(0,a.useState)(),p=(e,a)=>{switch(e){case"sync":console.log("sync"),d.A.get("".concat("http://172.16.0.108:8000","/v1/sync_users/").concat(a),{headers:{Authorization:"Bearer ".concat(h)}}).then((e=>{console.log(e),200==e.status?n.oR.success(e.data.status,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",transition:n.q7}):n.oR.error(e.data.status,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",transition:n.q7})}));break;case"edit":o=a,d.A.get("".concat("http://172.16.0.108:8000","/v1/get_ldap_by_id/").concat(o),{headers:{Authorization:"Bearer ".concat(h)}}).then((e=>{u(e.data),t("/domain/edit-domain/".concat(o))})).catch((e=>{console.log(e)}));break;case"delete":(e=>{d.A.delete("".concat("http://172.16.0.108:8000","/v1/delete_ldap_configuration/").concat(e),{headers:{Authorization:"Bearer ".concat(h)}}).then((e=>{let a=e.data.status_code,o=e.data.ldaps;204==a?(n.oR.success("Deleted",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",transition:n.q7}),s.setAvailableDomains(o),t("/domain")):n.oR.error("Deletion failed",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",transition:n.q7})})).catch((e=>{console.log(e),n.oR.error("Deletion failed",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",transition:n.q7})}))})(a)}var o};return(0,m.jsxs)("div",{className:"rounded-md hover:shadow-md border-2 border-gray-900/10 text-left w-[250px] relative border-1 border-gray-50 bg-white",children:[(0,m.jsxs)(r.W,{as:"div",className:"absolute top-3 right-3",children:[(0,m.jsxs)(r.W.Button,{className:"flex rounded-full text-sm hover:ring-2 ",children:[(0,m.jsx)("span",{className:""}),(0,m.jsx)(l,{className:"w-5 h-5"})]}),(0,m.jsx)(i.e,{as:a.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,m.jsxs)(r.W.Items,{className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:[(0,m.jsx)(r.W.Item,{children:t=>{let{active:s}=t;return(0,m.jsx)("div",{onClick:()=>p("sync",e.id),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer",children:"Sync all users"})}}),(0,m.jsx)(r.W.Item,{children:t=>{let{active:s}=t;return(0,m.jsx)("div",{onClick:()=>p("delete",e.id),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer",children:"Delete"})}})]})})]}),(0,m.jsxs)("div",{className:"px-6 py-4 border-1 ",children:[(0,m.jsx)("div",{className:"font-bold text-xl mb-2 cursor-pointer hover:text-blue-700 hover:underline",onClick:()=>p("edit",e.id),children:e.name}),(0,m.jsx)("p",{className:"text-gray-700 text-base",children:e.name})]}),(0,m.jsxs)("div",{className:"px-6 pt-4 pb-2 border-1 shadow-md",children:[(0,m.jsx)("span",{className:"inline-block bg-indigo-600 rounded-md px-2 py-1 text-sm font-semibold text-white mr-2",children:e.providerId}),(0,m.jsx)("span",{className:"inline-block bg-indigo-600 rounded-md px-2 py-1 text-sm font-semibold text-white mr-2",children:e.enabled})]})]})};var g=s(5543);const u=e=>{const t=(0,c.Zp)(),s=(0,a.useContext)(o._),[r,i]=(0,a.useState)(!0);(0,a.useEffect)((()=>{setTimeout((()=>{i(!1)}),1e3)}),[]);return(0,m.jsxs)("div",{className:"w-[95%] m-auto min-h-[90vh] rounded-md bg-white ",children:[(0,m.jsx)("div",{className:"flex justify-start ml=0",children:(0,m.jsx)("div",{onClick:()=>{t("/")},className:"ml-12 mt-10 bg-indigo-500 text-white px-4 py-2 rounded-md hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-10",children:(0,m.jsx)("i",{className:"fas fa-arrow-left"})})}),(0,m.jsx)("div",{className:"show-pools flex justify-start items-start gap-2 h-4/5  overflow-y-auto overflow-x-hidden",children:(0,m.jsxs)("div",{className:"m-10 p-3 pb-0 w-full h-full",children:[(0,m.jsxs)("div",{className:"flex justify-between mb-3 items-center",children:[(0,m.jsx)("h2",{className:"font-bold leading-7 text-gray-600 text-lg",children:"Identity Providers"}),(0,m.jsx)("button",{onClick:()=>t("/domain/domain-create-form"),className:"bg-indigo-500 hover:bg-indigo-600 hover:text-gray-300 text-white rounded-md px-3 py-2 text-sm font-medium flex flex-col gap-2",children:"+ Add new provider"})]}),r?(0,m.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,m.jsx)("img",{src:g,alt:"Loading...",className:"w-12 h-12 animate-spin"})}):(0,m.jsx)("div",{className:"m-5 flex gap-10",children:s.availableDomains.length>0?s.availableDomains.sort(((e,t)=>e.name.localeCompare(t.name))).map((e=>(0,m.jsx)(h,{id:e.id,name:e.name,providerId:e.providerId,enabled:"true"===e.config.enabled?"Enabled":"Disabled"},e.id))):(0,m.jsx)("div",{className:"m-5 flex gap-10 w-full justify-center items-center",children:"No domains available"})})]})})]})};s(6698);const p=()=>{(0,a.useContext)(o._);return(0,m.jsx)("div",{children:(0,m.jsx)(u,{})})}}}]);
//# sourceMappingURL=346.40f6a112.chunk.js.map