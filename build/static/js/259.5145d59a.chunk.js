"use strict";(self.webpackChunkdass=self.webpackChunkdass||[]).push([[259],{4259:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var l=a(2483),r=a(2189),s=a(3376),o=a(9619),i=a(4721),c=a(4100),n=a(6723);const d=()=>{const e=(0,s.Zp)(),t=(0,l.useContext)(r._),a=t.token;const d=[{header:"Name",key:"name",align:"left"},{header:"Type",key:"type",align:"left"},{header:"IP",key:"ip",align:"left"},{header:"Port",key:"port",align:"right"}];return(0,n.jsx)("div",{className:"show-pools flex justify-start items-start gap-2 h-auto w-[90%] min-h-[80vh] m-auto border-2 rounded-md shadow-inner",children:(0,n.jsxs)("div",{className:"m-2 p-3 pb-0  w-full h-full overflow-y-auto overflow-x-hidden bg-white",children:[(0,n.jsxs)("div",{className:"flex justify-between mb-3 items-center",children:[(0,n.jsx)("h2",{className:"font-semibold leading-7 text-gray-700 text-lg ",children:"Available Clusters"}),(0,n.jsx)("button",{onClick:()=>e("/cluster/cluster-create-form"),className:"bg-indigo-500 hover:bg-indigo-600 hover:text-gray-300 text-white rounded-md px-3 py-2 text-sm font-medium flex flex-col gap-2",children:"+ New Cluster"})]}),t.isClusterAvailable&&(0,n.jsx)("div",{className:"overflow-x-auto mt-10",children:(0,n.jsxs)("table",{className:"w-full bg-white table-auto",children:[(0,n.jsx)("thead",{className:"w-full",children:(0,n.jsxs)("tr",{className:"rounded-md",children:[d.map((e=>(0,n.jsx)("th",{className:"p-3 border-b-2 border-gray-400 text-sm uppercase font-bold text-".concat(e.align),children:e.header},e.key))),(0,n.jsx)("th",{className:"p-3 border-b-2 border-gray-400 text-center text-sm uppercase font-bold",children:"Actions"})]})}),(0,n.jsx)("tbody",{children:t.availableClusters.map((l=>(0,n.jsxs)("tr",{className:"border-b-2 hover:bg-gray-200 cursor-pointer",onClick:()=>{e("/cluster/edit-cluster/".concat(l.id))},children:[d.map((e=>(0,n.jsx)("td",{className:"p-3 text-".concat(e.align),children:l[e.key]},"".concat(l.id,"-").concat(e.key)))),(0,n.jsx)("td",{className:"p-3 text-center",children:(0,n.jsx)(o.A,{className:"h-6 w-6 text-red-600 cursor-pointer inline-block",onClick:e=>{var r;e.stopPropagation(),r=l.id,i.A.delete("".concat("http://172.16.0.108:8000","/v1/delete_cluster/").concat(r),{headers:{Authorization:"Bearer ".concat(a)}}).then((e=>{console.log(e.data),t.setAvailableClusters([...e.data.clusters]||[]),c.oR.success(e.data.msg,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",transition:c.q7})})).catch((e=>{console.error("Error deleting cluster:",e),c.oR.error("Failed to delete cluster",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",transition:c.q7})}))}})})]},l.id)))})]})})]})})}},9619:(e,t,a)=>{a.d(t,{A:()=>r});var l=a(2483);const r=l.forwardRef((function(e,t){let{title:a,titleId:r,...s}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},s),a?l.createElement("title",{id:r},a):null,l.createElement("path",{fillRule:"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z",clipRule:"evenodd"}))}))}}]);
//# sourceMappingURL=259.5145d59a.chunk.js.map