"use strict";(self.webpackChunkdass=self.webpackChunkdass||[]).push([[911],{3779:()=>{},1911:(e,s,a)=>{a.r(s),a.d(s,{default:()=>m});var i=a(2483),t=a(2189),r=a(3376),d=a(4721),l=a(4100),n=a(792),c=(a(3779),a(6723));const o=()=>(0,c.jsx)("div",{className:"animate-pulse",children:(0,c.jsxs)("div",{className:"space-y-5 m-2",children:[(0,c.jsxs)("div",{className:"mx-10 p-3 rounded-md w-3/4 ",children:[(0,c.jsx)("div",{className:"h-7 bg-gray-200 rounded w-1/4 mb-10"}),(0,c.jsx)("div",{className:"space-y-6",children:[1,2,3,4,5,6].map((e=>(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("div",{className:"w-1/4",children:(0,c.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"})}),(0,c.jsx)("div",{className:"flex-1",children:(0,c.jsx)("div",{className:"h-9 bg-gray-200 rounded w-full"})})]},e)))})]}),(0,c.jsx)("div",{className:"ml-10 mt-5 pl-5",children:(0,c.jsx)("div",{className:"h-10 bg-gray-200 rounded w-20"})})]})}),m=()=>{(0,i.useRef)(null);const e=(0,r.Zp)();(0,r.zy)();let[s,a]=(0,i.useState)({}),[m,g]=(0,i.useState)((0,r.g)().id);const[h,x]=(0,i.useState)(!0),[u,p]=(0,i.useState)(!1);(0,i.useEffect)((()=>{d.A.get("".concat("http://172.16.0.108:8000","/v1/cluster/").concat(m),{headers:{Authorization:"Bearer ".concat(b)}}).then((e=>{a({type:e.data.type,name:e.data.name,ip:e.data.ip,port:e.data.port,username:e.data.username,password:e.data.password,tls:e.data.tls}),x(!1)})).catch((e=>{console.log(e),x(!1)}))}),[]);const j=(0,i.useContext)(t._),b=j.token;let f=e=>{a({...s,[e.target.name]:e.target.value})};return h?(0,c.jsxs)("div",{className:"w-[95%] min-h-[90vh] m-auto rounded-md bg-white",children:[(0,c.jsx)("div",{className:"flex justify-start ml=0 mt-5",children:(0,c.jsx)("div",{className:"ml-12 h-10 w-16 bg-gray-200 rounded animate-pulse"})}),(0,c.jsx)(o,{})]}):(0,c.jsxs)("div",{className:"w-[95%] min-h-[90vh] m-auto rounded-md bg-white",children:[(0,c.jsx)("div",{className:"flex justify-start ml-2 mt-5",children:(0,c.jsx)("div",{onClick:()=>{e(-1)},className:"ml-12 bg-indigo-500 text-white px-4 py-2 rounded-md hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-10",children:(0,c.jsx)("i",{className:"fas fa-arrow-left"})})}),(0,c.jsxs)("div",{className:"cluster-creation-form w-full ",children:[(0,c.jsx)("div",{className:"space-y-5 m-2",children:(0,c.jsxs)("div",{className:"mx-10 p-3 rounded-md w-3/4",children:[(0,c.jsx)("h2",{className:"font-bold leading-7 text-gray-900 text-left",children:"Edit Cluster"}),(0,c.jsxs)("div",{className:"text-left table-auto mt-10",children:[(0,c.jsxs)("div",{className:"tr",children:[(0,c.jsx)("div",{className:"th",children:(0,c.jsx)("label",{className:"text-sm font-medium leading-6 text-gray-900  border-0 ",children:"Cluster Type"})}),(0,c.jsx)("div",{className:"td",children:(0,c.jsx)("div",{className:"mt-2 border-0 ",children:(0,c.jsx)("select",{disabled:!0,onChange:f,value:s.type,name:"clusterType",className:"block cursor-pointer rounded-md py-1.5 text-gray-900  shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 border-2",children:(0,c.jsx)("option",{selected:!0,value:"",disabled:!0,children:s.type})})})})]}),(0,c.jsxs)("div",{className:"tr",children:[(0,c.jsx)("div",{className:"th",children:(0,c.jsx)("label",{className:"block text-sm font-medium leading-6 text-gray-900 border-0",children:"Cluster Name"})}),(0,c.jsx)("div",{className:"td",children:(0,c.jsx)("div",{className:"mt-2  border-0",children:(0,c.jsx)("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 ",children:(0,c.jsx)("input",{disabled:!0,type:"text",name:"name",onChange:f,value:s.name,className:"block flex-1 rounded-md  py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6 border-2"})})})})]}),"VMware"==s.type&&(0,c.jsxs)("div",{className:"tr",children:[(0,c.jsx)("div",{className:"th",children:(0,c.jsx)("label",{className:"block text-sm font-medium leading-6 text-gray-900 border-0",children:"Vcenter IP / FQDN"})}),(0,c.jsx)("div",{className:"td",children:(0,c.jsx)("div",{className:"mt-2  border-0",children:(0,c.jsx)("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 ",children:(0,c.jsx)("input",{type:"text",name:"vcenterIP",disabled:!0,onChange:f,value:s.ip,className:"block flex-1 rounded-md   py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6 border-2"})})})})]}),"KVM"===s.type&&(0,c.jsxs)("div",{className:"tr",children:[(0,c.jsx)("div",{className:"th",children:(0,c.jsx)("label",{className:"block text-sm font-medium leading-6 text-gray-900 border-0",children:"KVM IP / FQDN"})}),(0,c.jsx)("div",{className:"td",children:(0,c.jsx)("div",{className:"mt-2  border-0",children:(0,c.jsx)("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 ",children:(0,c.jsx)("input",{type:"text",name:"KvmIP",disabled:!0,onChange:f,value:s.ip,className:"block flex-1 rounded-md bg-zinc-300 py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6 border-2"})})})})]}),(0,c.jsxs)("div",{className:"tr",children:[(0,c.jsx)("div",{className:"th",children:(0,c.jsx)("label",{className:"block text-sm font-medium leading-6 text-gray-900 border-0 ",children:"Port"})}),(0,c.jsx)("div",{className:"td",children:(0,c.jsx)("div",{className:"mt-2  border-0",children:(0,c.jsx)("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 ",children:(0,c.jsx)("input",{onChange:f,value:s.port,type:"number",name:"port",className:"block flex-1 rounded-md bg-white bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6 border-2"})})})})]}),(0,c.jsxs)("div",{className:"tr",children:[(0,c.jsx)("div",{className:"th",children:(0,c.jsx)("label",{className:"block text-sm font-medium leading-6 text-gray-900 border-0",children:"Username"})}),(0,c.jsx)("div",{className:"td",children:(0,c.jsx)("div",{className:"mt-2  border-0",children:(0,c.jsx)("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 ",children:(0,c.jsx)("input",{type:"text",name:"username",onChange:f,value:s.username,className:"block flex-1 rounded-md bg-white bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6 border-2"})})})})]}),(0,c.jsxs)("div",{className:"tr",children:[(0,c.jsx)("div",{className:"th",children:(0,c.jsx)("label",{className:"block text-sm font-medium leading-6 text-gray-900 border-0",children:"Password"})}),(0,c.jsx)("div",{className:"td",children:(0,c.jsx)("div",{className:"mt-2  border-0",children:(0,c.jsx)("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 ",children:(0,c.jsx)("input",{type:"password",name:"password",onChange:f,value:s.password,className:"block flex-1 rounded-md bg-white bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6 border-2"})})})})]}),(0,c.jsxs)("div",{className:"tr",children:[(0,c.jsx)("div",{className:"th",children:(0,c.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium leading-6 text-gray-900 border-0",children:"Insecure Skip Verify"})}),(0,c.jsx)("div",{className:"td",children:(0,c.jsx)("div",{className:"mt-2 border-0",children:(0,c.jsxs)("label",{className:"switch",children:[(0,c.jsx)("input",{type:"checkbox",onChange:e=>{a({...s,[e.target.name]:e.target.checked})},name:"tls",checked:s.tls}),(0,c.jsx)("span",{className:"slider round"})]})})})]})]})]})}),(0,c.jsx)("div",{className:"buttons ml-10 mt-5 pl-5 flex items-start justify-start",children:(0,c.jsx)("button",{onClick:()=>{p(!0),console.log(s),d.A.put("".concat("http://172.16.0.108:8000","/v1/update_cluster/").concat(m),s,{headers:{Authorization:"Bearer ".concat(b)}}).then((s=>{s.data.cluster&&a(s.data.cluster),l.oR.success(s.data.msg,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",transition:l.q7}),e("/clusters"),j.getClusters()})).catch((e=>{console.log(e),l.oR.error("cluster modification failed",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",transition:l.q7})})).finally((()=>{p(!1)}))},disabled:u,type:"submit",className:"rounded-md bg-indigo-600 px-4 py-3 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 flex items-center justify-center",children:u?(0,c.jsx)(n.A,{size:20,color:"inherit",className:"mr-2"}):"Submit"})})]})]})}}}]);
//# sourceMappingURL=911.5b70f0c5.chunk.js.map